1. 테이블 구성

-------------참고 테이블-----------------
desc pettype;              
---------------------------------------
--이름          널?       유형           
------------- -------- ------------ 
--PETTYPEID   NOT NULL NUMBER       
--PETTYPENAME NOT NULL VARCHAR2(50) 


-------------푸드-----------------------
desc food;              
---------------------------------------
--이름             널?       유형            
---------------- -------- ------------- 
--FOODID         NOT NULL NUMBER            사료 아이디(시퀀스 이용)
--FOODNAME       NOT NULL VARCHAR2(100)     사료 이름
--BRANDID        NOT NULL NUMBER            브랜드 이름(foodbrand 테이블)
--DESCRIPTION             VARCHAR2(500)     사료 소개
--MAININGREDIENT NOT NULL VARCHAR2(200)     주재료
--SUBINGREDIENT           VARCHAR2(200)     부재료
--PETTYPEID      NOT NULL NUMBER            강아지/고양이(pettype 테이블)
--CATEGORY       NOT NULL VARCHAR2(50)      처방식/기능식/일반식
--PETAGEGROUP             VARCHAR2(50)      연령별 분류
--ISGRAINFREE             CHAR(1)           그래인프리 여부
--CALORIE                 NUMBER(5,1)       칼로리
--FOODTYPE                VARCHAR2(20)      건식/습식
--FOODIMG                 VARCHAR2(300)     제품사진
--CREATEDAT               DATE              등록일
--UPDATEDAT               DATE              수정일


-------------브랜드---------------------
desc foodbrand;        
---------------------------------------
--이름        널?       유형            
----------- -------- ------------- 
--BRANDID   NOT NULL NUMBER                 브랜드 아이디
--BRANDNAME NOT NULL VARCHAR2(100)          브랜드 이름
--COUNTRY            VARCHAR2(100)          국가
--BRANDTYPE NOT NULL VARCHAR2(50)           처방식/프리미엄 등
--ORIGIN             VARCHAR2(50)           국내/해외
--BRANDINFO          VARCHAR2(500)          브랜드 소개


------------라벨영양소-------------------
desc foodnutrient;
---------------------------------------
--이름         널? 유형     
------------ -- ------ 
--FOODID        NUMBER                   사료 아이디(food 테이블)
--NUTRIENTID    NUMBER                   영양소 아이디(nutrient 테이블)
--AMOUNT        NUMBER                   영양소 양

----------영양소단위---------------------
desc nutrient;          
---------------------------------------
--이름           널?       유형            
-------------- -------- ------------- 
--NUTRIENTID   NOT NULL NUMBER            영양소 아이디
--NUTRIENTNAME NOT NULL VARCHAR2(100)     영양소 이름
--UNIT                  VARCHAR2(50)      단위

-------------영양소범위------------------
desc nutrientrange;    
---------------------------------------
--이름         널?       유형           
------------ -------- ------------ 
--RANGEID    NOT NULL NUMBER              범위 아이디
--PETTYPEID           NUMBER              강아지/고양이(pettype 테이블)
--NUTRIENTID          NUMBER              영양소 아이디(nutrient 테이블)
--MINVALUE   NOT NULL NUMBER              최소 범위
--MAXVALUE   NOT NULL NUMBER              최대 범위
--RANGELABEL NOT NULL VARCHAR2(50)        범위 설명



---



---------------리뷰--------------------
desc nutrientrange;    
---------------------------------------
--이름            널?       유형            
--------------- -------- ------------- 
--REVIEWID      NOT NULL NUMBER             리뷰아이디(시퀀스)
--USERID        NOT NULL NUMBER             유저 아이디(users)
--NICKNAME      NOT NULL VARCHAR2(100)      닉네임(users)
--BRANDID                NUMBER             브랜드 아이디(foodbrand)
--FOODID                 NUMBER             사료 아이디(food)
--FOODIMG                VARCHAR2(300)      사료 이미지(food) - 리뷰 이미지 없을 시 대체
--REVIEWIMG              VARCHAR2(300)      리뷰 이미지(유저 업로드)
--RATING                 NUMBER(1)          별점
--TITLE                  VARCHAR2(100)      제목
--REVIEWCOMMENT          VARCHAR2(500)      리뷰 내용
--CREATEDAT              DATE               작성일
--UPDATEDAT              DATE               수정일



2. 필요 SQL 구문
 1) 사료는 mvc 단계까지 작성 완료.

 
 2) 리뷰 페이지 
- 리스트에서 토글로 상세 내용까지 출력(select) :
	 select r.reviewid, fb.brandname, f.foodname, f.foodimg, r.rating, r.title, r.reviewcomment, r.nickname, r.createdat, r.updatedat
			from review r join food f on(r.foodid=f.foodid)
               join foodbrand fb on(r.brandid=fb.brandid)

- 특정 리뷰 선택, 수정 시 사용(select) :
		select * from review where reviewid=#{reviewid}

- 리뷰 작성(insert) : 	
	insert into review (reviewid, userid, nickname, brandid, foodid, foodimg, rating, title, reviewcomment, createdat)
            values(review_seq.nextval, #{userid},#{nickname},#{brandid},#{foodid},#{foodimg},#{rating},#{title},#{reviewcomment}, sysdate)
	
- 리뷰 수정(update)	:
	update review set brandid=#{brandid}, foodid=#{foodid}, foodimg=#{foodimg}, 
						rating=#{rating}, title=#{title}, 
						reviewcomment=#{reviewcomment}, updatedat=sysdate
			where reviewid=#{reviewid} and userid=#{userid}

-리뷰 삭제(delete) : 
		delete from review where reviewid=#{reviewid} and userid=#{userid}