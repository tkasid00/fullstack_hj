*Spring

#1. 프레임워크
    - 소프트웨어 개발의 뼈대 역할
    - 실행 흐름 담당
#2. IOC
    - 인스턴스 생성~소멸까지 생명주기를 스프링이 관리
#3. DI
    - 각 클래스의 의존관계를 [설정파일]을 통해서 컨테이너가 자동 연결
#4. BEAN    
    - 관리되는 객체

#5. ex)
    1. setter 방식
    (1)
    class MyA{
        private String name;
        private Animal ani;

    (2)
        public MyA(String name, Animal ani){
            this.name=name;
            this.ani=ani;
        }

    }
             ▽   ▽   ▽   ▽
    <bean id="myA" class="com.company.MyA">
        <property name="name" value="butter" />
        <property name="ani" ref="cat"  />
    </bean>


    2. 생성자
    <bean id="myA" class="com.company.MyA">
        <constructor-arg index="0" value="butter" />
        <constructor-arg index="1"  ref="ani"  />
    </bean>

    3. di-properties
        #test.properties 
        name=butter
        ani=cat

    <context:property-placeholder location="classpath:config/test.properties  />    
    <bean id="myA" class="com.company.MyA">
        <constructor-arg index="0" value="${name}" />
        <constructor-arg index="1"  ref="${ani}"  />
    </bean>    


#bean 의존관계주입

1. xml vs Annotation
- xml : 운영
- Annotation : 개발

2. @Componetn
- 일반적인 컴포넌트. <bean> 스프링이 관리하는 객체
- 구체화된 방식 
    1) @Controller 웹 요청 받아 응답
    2) @Service  서비스 레이어, 비즈니스 로직
    3) @Repository 데이터베이스


3. 기타
- @Autowired : 정밀한 의존관계 
                ->property, setter, 생성자 등 적용
- @Qualifier : 동일한 타입이 있을 때 bean 구분
- @Value : 단순 값
- @Resource : 자원 연결(확장자.properties)                

4. component-scan
<context:component-scan base package="경로설정" />


#DB+Mybatis

1. DataSource
 - SimpleDriverDataSource : 가장 단순한 버전

2. Mybatis
 - sql을 별도로 파일 분리해서 관리
 - orm(object relational mapping) 프레임워크

3. 설정 내용
 - root-context.xml : 환경 정보 설정
 - db.properties : db 정보 설정
 - SqlSessionFactoryBean : SqlSession 생성 및 관리
 - SqlSession : sql 실행, 트랜젝션
 - mapper.xml 



 *활용 

 1. root-context.xml에 구문 추가 : com.thejoa703 패키지에서 MyDao 인터페이스로 애노테이션 사용
 	<bean class="org.mybatis.spring.mapper.MapperScannerConfigurer">
		<property name="basePackage" value="com.thejoa703.dao"></property>
		<property name="annotationClass" value="com.thejoa703.dao.MyDao"></property>
	</bean>

 2. 인터페이스에 @ 붙이기 -> public @interface MyDao {   }   

 3. 새로운 인터페이스 만들어서 활용하기 
    @MyDao
    public interface TestDao {
        public String now();
    }

4. mapper 파일에 연결하기 
    <mapper namespace="com.thejoa703.dao.TestDao">

5. mapper에서 select 구문 사용 방법 
	<!-- public 		String 		now(); 파라미터x value 생략 -->
	<select resultType="string" id="now">
	select sysdate from dual
	</select>    


*dat/dto 
1. sql 테이블, 구문 작성
2. dto 작성
3. mapper 작성
4. dao  작성
5. 테스트