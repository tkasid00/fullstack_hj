*ajax

1. 검색창 - 하단에 바로 값 띄워지게 만들기
```java
     <script>
     $(function(){
         $("#search").on("keyup" , function(){    // keyup (키보드뗐을때)
             console.log( $(this).val().trim()  ); 
             let keyword = $(this).val().trim();
      
			if(keyword==""){ //빈칸일 경우
				$().empty().append();
				$("#resultArea tbody").empty().append("<tr><td colspan='5'>검색어를 입력하세요</td></tr>");	
			}else{ //빈칸이 아닐 경우 서버 요청
				$.ajax({  // . 주의!
					url:"${pageContext.request.contextPath}/selectSearch",
					type:"GET",  // GET, POST, PUT
					data:{search:keyword},
					success:function(res){console.log(res);
						$("#resultArea tbody").empty();  //값 비우기
						$.each(res, function(index, dto){
							
							let row="<tr>" 	// 전체 개수 확인하고 인덱스 빼기 : 글번호
									+"<td>"+(res.length-index)+"</td>"									//${}아님 주의
									+"<td><a href='${pageContext.request.contextPath}/detail.quest?id=" +dto.id+ "'>"
											+dto.btitle+"</a></td>"
									+"<td>"+dto.appUserId+"</td>"
									+"<td>"+dto.createdAt+"</td>"
									+"<td>"+dto.bhit+"</td>"
									+"</tr>";
							$("#resultArea tbody").append(row);
						});
					}
						
				});
				
			}
        });
     });
     </script>   
```     
- keyup : 키보드 뗐을 경우 발생
- $(this).val().trim(); = 이.값에서.공백제거
- () = 화면단 / {} = 백
- url -> type -> data -> sucess 흐름 기억하기 
- GET, POST, PUT 차이
    1) GET : 데이터 조회
    2) POST : 데이터 생성
    3) PUT : 데이터 전체 수정

- 링크 쪼개는 방법  :"<td><a href='${pageContext.request.contextPath}/detail.quest?id="+dto.id+"'>"+dto.btitle+"</a></td>"    


2. 해당 아이디 있는지 검색(=이메일)
 - select * from appuser where email='111@mail.com';  
 - select count(*) cnt from appuser where email='111@mail.com';  





 >@Controller : 처리(service)+화면
 >@RestController : 처리(service)+나온 값