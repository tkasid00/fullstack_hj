#### 개인 포트폴리오 개편안

1. 사료검색 게시판+사료관리자게시판 활용
2. 사료 성분 이미지 모달+최저가 네이버 검색 api+공식 홈페이지 연결
3. 강아지는 펫타입으로만 남길 예정(습식과 동일)
4. 사료이미지 컬럼 추가 - 입력용 데이터 
5. 펫타입의 반정규화(드디어!)
6. 영양은 확장성을 위해 정규화 유지
7. 영양 입력폼 수정 필요 ( 드롭다운->직접 입력 - 단백질 (%)   [  ])
8. 관리자 로그인은 푸터 텍스트 링크로 작게 숨기기
9. 데이터 선성 이유 : 브랜드는 국내 수입 여부와 공식 정보 접근 가능성을 기준으로 선정했으며 
해외 대표 브랜드와 국내 대기업 제품을 함께 포함해 시장 현실성을 반영했습니다.



### 브랜드 선정
1. 한글 공식 홈페이지 존재 + 쇼핑몰X 개별 상세 페이지 존재
 : 로얄캐닌, 힐스, 퓨리나, 인스팅스, 웰니스, 뉴트리플랜(국내)

2. 로캐, 힐스는 처방식 위주로 10개 내외, 나머지는 5~7개 수준 취합
3. 키튼은 되도록 포함할 것


--1. 브랜드 외래키X
CREATE TABLE BRAND (
    BRANDID        NUMBER           PRIMARY KEY,
    BRANDNAME      VARCHAR2(100)    NOT NULL,
    COUNTRY        VARCHAR2(100),
    BRANDTYPE      VARCHAR2(50)     NOT NULL,   
    ORIGIN         VARCHAR2(50),             
    BRANDINFO      VARCHAR2(500)

);

--2.푸드 (FK) BRANDID : BFAND(BRANDID)
CREATE TABLE PETFOOD (
    FOODID          NUMBER          PRIMARY KEY,
    FOODNAME        VARCHAR2(100)   NOT NULL,
    BRANDID         NUMBER          NOT NULL,
    DESCRIPTION     VARCHAR2(500),
    MAININGREDIENT  VARCHAR2(200)   NOT NULL,
    SUBINGREDIENT   VARCHAR2(200),
    PETTYPEID       NUMBER          NOT NULL,
    PETTYPENAME     VARCHAR2(255)   NOT NULL,
    CATEGORY        VARCHAR2(50)    NOT NULL,
    PETAGEGROUP     VARCHAR2(50),
    ISGRAINFREE     CHAR(1)         CHECK (UPPER(ISGRAINFREE) IN ('Y','N')),
    CALORIE         NUMBER(5,1),
    FOODTYPE        VARCHAR2(20),
    FOODIMG         VARCHAR2(300),
    OFFICIALURL     VARCHAR2(500),
    CREATEDAT       DATE DEFAULT SYSDATE,
    UPDATEDAT       DATE DEFAULT NULL,

    CONSTRAINT FK_BRAND FOREIGN KEY (BRANDID)
        REFERENCES BRAND(BRANDID),

);

CREATE SEQUENCE food_seq
START WITH 1 INCREMENT BY 1
NOCACHE;

--3. 영양소 외래키X
CREATE TABLE NUTRI(
    NUTRIENTID NUMBER PRIMARY KEY,
    NUTRIENTNAME VARCHAR2(100) NOT NULL,
    UNIT VARCHAR2(50) 
);


--4.라벨영양소 (FK) FOODID : PETFOOD(FOODID) / NUTRIENTID  : NUTRI(NUTRIENTID)
CREATE TABLE PETFOODNUTRI(
    FOODID      NUMBER NOT NULL,
    NUTRIENTID  NUMBER NOT NULL,
    AMOUNT      NUMBER,

    CONSTRAINT PK_FOODNUTRIENT PRIMARY KEY (FOODID, NUTRIENTID),

    CONSTRAINT FK_FN_FOOD FOREIGN KEY (FOODID)
        REFERENCES PETFOOD(FOODID)
        ON DELETE CASCADE,

    CONSTRAINT FK_FN_NUTRIENT FOREIGN KEY (NUTRIENTID)
        REFERENCES NUTRI(NUTRIENTID)
);

--5.영양소범위 (FK) NUTRIENTID : NUTRI(NUTRIENTID)		
CREATE TABLE NUTRIRANGE (
    RANGEID      NUMBER          PRIMARY KEY,
    PETTYPEID    NUMBER          NOT NULL,
    NUTRIENTID   NUMBER          NOT NULL,
    MINVALUE     NUMBER          NOT NULL,
    MAXVALUE     NUMBER          NOT NULL,
    RANGELABEL   VARCHAR2(50)    NOT NULL,

    CONSTRAINT FK_NR_PETTYPE FOREIGN KEY (PETTYPEID)
        REFERENCES PETFOOD(PETTYPEID),

    CONSTRAINT FK_NR_NUTRIENT FOREIGN KEY (NUTRIENTID)
        REFERENCES NUTRI(NUTRIENTID)
);

--6. 관리자 계정
CREATE TABLE ADMIN (
  ADMINID        NUMBER          PRIMARY KEY,
  EMAIL          VARCHAR2(100) NOT NULL,
  PASSWORD       VARCHAR2(255) NOT NULL,
  ROLE           VARCHAR2(20) DEFAULT 'ADMIN',
  CREATEDAT      DATE DEFAULT SYSDATE
);


---------------------------------------------------
--영양소 단위
---------------------------------------------------
INSERT INTO NUTRI VALUES (1, '조단백', '%');
INSERT INTO NUTRI VALUES (2, '조지방', '%');
INSERT INTO NUTRI VALUES (3, '조섬유', '%');
INSERT INTO NUTRI VALUES (4, '조회분', '%');
INSERT INTO NUTRI VALUES (5, '칼슘', '%');
INSERT INTO NUTRI VALUES (6, '인', '%');
INSERT INTO NUTRI VALUES (7, '수분', '%');

---------------------------------------------------
--영양소 범위(추가 검증 필요)
---------------------------------------------------
-- 저단백 (신장/시니어)
INSERT INTO NUTRIRANGE VALUES (1, 1, 1, 18, 26, '저단백');

-- 중단백 (일반 성묘 메인)
INSERT INTO NUTRIRANGE VALUES (2, 1, 1, 27, 34, '중단백');

-- 고단백 (활동량↑, 키튼/컨셉사료)
INSERT INTO NUTRIRANGE VALUES (3, 1, 1, 35, 42, '고단백');

-- 저지방
INSERT INTO NUTRIRANGE VALUES (4, 1, 2, 8, 12, '저지방');

-- 고칼슘 (성장기 기준)
INSERT INTO NUTRIRANGE VALUES (6, 1, 5, 1.4, 1.8, '고칼슘');

-- 저인 (신장 케어 전용)
INSERT INTO NUTRIRANGE VALUES (5, 1, 6, 0.4, 0.7, '저인');

-- 중인 (일반 성묘 대다수)
INSERT INTO NUTRIRANGE VALUES (7, 1, 6, 0.8, 1.2, '중인');

-- 고인 (키튼/고단백 컨셉)
INSERT INTO NUTRIRANGE VALUES (8, 1, 6, 1.3, 1.8, '고인');
